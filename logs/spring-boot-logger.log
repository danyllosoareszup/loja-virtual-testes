2022-11-17 01:05:36,190 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 01:05:36,194 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 12072 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 01:05:36,195 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 01:05:36,247 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 01:05:36,247 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 01:05:37,108 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 01:05:37,203 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 88 ms. Found 7 JPA repository interfaces.
2022-11-17 01:05:38,621 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 01:05:39,889 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 01:05:39,900 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 01:05:39,901 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 01:05:39,901 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 01:05:39,986 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 01:05:39,986 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 3738 ms
2022-11-17 01:05:40,011 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 01:05:40,228 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 01:05:40,236 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 01:05:40,364 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 01:05:40,417 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 01:05:40,637 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 01:05:40,795 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 01:05:41,489 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 01:05:41,496 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:05:42,099 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 01:05:42,582 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24cfe925, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ede2991, org.springframework.security.web.context.SecurityContextPersistenceFilter@4cd4a238, org.springframework.security.web.header.HeaderWriterFilter@6d4754da, org.springframework.web.filter.CorsFilter@2e8984c2, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@4eedd343, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79c9017b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6816edfe, org.springframework.security.web.session.SessionManagementFilter@5066f560, org.springframework.security.web.access.ExceptionTranslationFilter@42335082, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7dc6d5ad]
2022-11-17 01:05:42,841 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 01:05:42,861 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 01:05:43,013 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 7.395 seconds (JVM running for 8.757)
2022-11-17 01:06:02,623 [http-nio-8080-exec-1] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 01:06:02,624 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 01:06:02,625 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 01:06:02,926 [http-nio-8080-exec-1] ERROR br.com.zup.edu.nossalojavirtual.categories.SuperCategoryExistsValidator validate The category informed does not exists
2022-11-17 01:06:02,953 [http-nio-8080-exec-1] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.categories.CategoryController.createCategory(br.com.zup.edu.nossalojavirtual.categories.NewCategoryRequest): [Field error in object 'newCategoryRequest' on field 'superCategory': rejected value [Optional[555]]; codes [category.superCategory.newCategoryRequest.superCategory,category.superCategory.superCategory,category.superCategory.java.util.Optional,category.superCategory]; arguments []; default message [The super category does not exists]] ]
2022-11-17 01:07:30,918 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:07:30,919 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 01:07:31,160 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 01:07:31,161 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 01:07:31,164 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 01:07:37,000 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 01:07:37,007 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 23448 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 01:07:37,008 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 01:07:37,048 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 01:07:37,049 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 01:07:37,743 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 01:07:37,807 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 57 ms. Found 7 JPA repository interfaces.
2022-11-17 01:07:38,017 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 01:07:38,565 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 01:07:38,573 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 01:07:38,573 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 01:07:38,573 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 01:07:38,687 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 01:07:38,687 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1637 ms
2022-11-17 01:07:38,734 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 01:07:39,092 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 01:07:39,109 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 01:07:39,256 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 01:07:39,332 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 01:07:39,484 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 01:07:39,598 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 01:07:40,282 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 01:07:40,288 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:07:40,810 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 01:07:41,282 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7caf5e50, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3cc2bc0a, org.springframework.security.web.context.SecurityContextPersistenceFilter@5690c007, org.springframework.security.web.header.HeaderWriterFilter@2bf5cd01, org.springframework.web.filter.CorsFilter@4fe08380, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@6dea1eb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e712b64, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10b18582, org.springframework.security.web.session.SessionManagementFilter@455a0653, org.springframework.security.web.access.ExceptionTranslationFilter@4f4d93d4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@a813c93]
2022-11-17 01:07:41,537 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 01:07:41,553 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 01:07:41,708 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.323 seconds (JVM running for 6.069)
2022-11-17 01:07:46,961 [http-nio-8080-exec-5] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 01:07:46,962 [http-nio-8080-exec-5] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 01:07:46,963 [http-nio-8080-exec-5] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 01:07:47,245 [http-nio-8080-exec-5] WARN br.com.zup.edu.nossalojavirtual.categories.SuperCategoryExistsValidator validate The category informed does not exists
2022-11-17 01:07:47,273 [http-nio-8080-exec-5] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.categories.CategoryController.createCategory(br.com.zup.edu.nossalojavirtual.categories.NewCategoryRequest): [Field error in object 'newCategoryRequest' on field 'superCategory': rejected value [Optional[555]]; codes [category.superCategory.newCategoryRequest.superCategory,category.superCategory.superCategory,category.superCategory.java.util.Optional,category.superCategory]; arguments []; default message [The super category does not exists]] ]
2022-11-17 01:08:45,334 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:08:45,336 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 01:08:45,565 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 01:08:45,567 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 01:08:45,570 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 01:08:51,056 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 01:08:51,066 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 3484 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 01:08:51,067 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 01:08:51,108 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 01:08:51,109 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 01:08:51,745 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 01:08:51,799 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 48 ms. Found 7 JPA repository interfaces.
2022-11-17 01:08:51,986 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 01:08:52,472 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 01:08:52,479 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 01:08:52,479 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 01:08:52,480 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 01:08:52,565 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 01:08:52,566 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1456 ms
2022-11-17 01:08:52,597 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 01:08:52,771 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 01:08:52,780 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 01:08:52,886 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 01:08:52,923 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 01:08:53,053 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 01:08:53,146 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 01:08:53,822 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 01:08:53,828 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:08:54,367 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 01:08:54,848 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@75e78ca1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42a878bd, org.springframework.security.web.context.SecurityContextPersistenceFilter@52790493, org.springframework.security.web.header.HeaderWriterFilter@4ae47171, org.springframework.web.filter.CorsFilter@f1603af, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@4031a857, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4153961, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72da848a, org.springframework.security.web.session.SessionManagementFilter@595b7318, org.springframework.security.web.access.ExceptionTranslationFilter@63f30764, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7f6e4f29]
2022-11-17 01:08:55,102 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 01:08:55,118 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 01:08:55,274 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 4.751 seconds (JVM running for 5.443)
2022-11-17 01:08:58,632 [http-nio-8080-exec-1] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 01:08:58,633 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 01:08:58,634 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 01:08:58,932 [http-nio-8080-exec-1] WARN br.com.zup.edu.nossalojavirtual.categories.SuperCategoryExistsValidator validate The category informed does not exists
2022-11-17 01:08:58,963 [http-nio-8080-exec-1] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.categories.CategoryController.createCategory(br.com.zup.edu.nossalojavirtual.categories.NewCategoryRequest): [Field error in object 'newCategoryRequest' on field 'superCategory': rejected value [Optional[555]]; codes [category.superCategory.newCategoryRequest.superCategory,category.superCategory.superCategory,category.superCategory.java.util.Optional,category.superCategory]; arguments []; default message [The super category does not exists]] ]
2022-11-17 01:09:07,336 [http-nio-8080-exec-4] ERROR br.com.zup.edu.nossalojavirtual.categories.NewCategoryRequest toCategory Batatinha frita 123
2022-11-17 01:09:07,342 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 01:09:11,153 [http-nio-8080-exec-8] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.categories.CategoryController.createCategory(br.com.zup.edu.nossalojavirtual.categories.NewCategoryRequest): [Field error in object 'newCategoryRequest' on field 'name': rejected value [limpeza]; codes [category.name.alreadyExists.newCategoryRequest.name,category.name.alreadyExists.name,category.name.alreadyExists.java.lang.String,category.name.alreadyExists]; arguments []; default message [name is already registered]] ]
2022-11-17 01:10:11,018 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:10:11,018 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 01:10:11,256 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 01:10:11,257 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 01:10:11,259 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 01:10:14,839 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 01:10:14,847 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 13352 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 01:10:14,848 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 01:10:14,897 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 01:10:14,897 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 01:10:15,648 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 01:10:15,714 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 58 ms. Found 7 JPA repository interfaces.
2022-11-17 01:10:15,928 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 01:10:16,463 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 01:10:16,471 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 01:10:16,471 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 01:10:16,472 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 01:10:16,555 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 01:10:16,555 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1658 ms
2022-11-17 01:10:16,584 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 01:10:16,785 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 01:10:16,794 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 01:10:16,910 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 01:10:16,953 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 01:10:17,102 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 01:10:17,213 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 01:10:17,937 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 01:10:17,946 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:10:18,609 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 01:10:19,124 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14891737, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74a82bfb, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e141224, org.springframework.security.web.header.HeaderWriterFilter@1cbc1d05, org.springframework.web.filter.CorsFilter@759464f9, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@549ab4fb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3679bb6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16c61acb, org.springframework.security.web.session.SessionManagementFilter@6f194e8e, org.springframework.security.web.access.ExceptionTranslationFilter@64d86a5b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@a0cb567]
2022-11-17 01:10:19,406 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 01:10:19,424 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 01:10:19,582 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.284 seconds (JVM running for 6.302)
2022-11-17 01:10:32,831 [http-nio-8080-exec-4] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 01:10:32,832 [http-nio-8080-exec-4] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 01:10:32,833 [http-nio-8080-exec-4] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 01:10:51,120 [http-nio-8080-exec-4] ERROR br.com.zup.edu.nossalojavirtual.categories.NewCategoryRequest toCategory Batatinha frita 123
2022-11-17 01:10:59,742 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 01:11:50,783 [http-nio-8080-exec-3] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.categories.CategoryController.createCategory(br.com.zup.edu.nossalojavirtual.categories.NewCategoryRequest): [Field error in object 'newCategoryRequest' on field 'name': rejected value [limpeza]; codes [category.name.alreadyExists.newCategoryRequest.name,category.name.alreadyExists.name,category.name.alreadyExists.java.lang.String,category.name.alreadyExists]; arguments []; default message [name is already registered]] ]
2022-11-17 01:22:04,314 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:22:04,315 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 01:22:04,537 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 01:22:04,538 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 01:22:04,542 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 01:22:49,104 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 01:22:49,112 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 17736 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 01:22:49,113 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 01:22:49,162 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 01:22:49,162 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 01:22:49,887 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 01:22:49,950 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 57 ms. Found 7 JPA repository interfaces.
2022-11-17 01:22:50,164 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 01:22:50,791 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 01:22:50,801 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 01:22:50,801 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 01:22:50,802 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 01:22:50,884 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 01:22:50,885 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1722 ms
2022-11-17 01:22:50,912 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 01:22:51,129 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 01:22:51,139 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 01:22:51,274 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 01:22:51,319 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 01:22:51,491 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 01:22:51,600 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 01:22:52,348 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 01:22:52,355 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:22:53,089 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 01:22:53,659 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@34f7372, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@325a506c, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ef61989, org.springframework.security.web.header.HeaderWriterFilter@35994613, org.springframework.web.filter.CorsFilter@1fc9a40d, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@62d9fce6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a64e1d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@548c36c1, org.springframework.security.web.session.SessionManagementFilter@78556d0c, org.springframework.security.web.access.ExceptionTranslationFilter@2f3942b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@971fa1e]
2022-11-17 01:22:53,924 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 01:22:53,942 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 01:22:54,095 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.527 seconds (JVM running for 6.652)
2022-11-17 01:22:58,779 [http-nio-8080-exec-1] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 01:22:58,780 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 01:22:58,781 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 01:23:09,855 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 01:23:26,899 [http-nio-8080-exec-4] WARN br.com.zup.edu.nossalojavirtual.util.HandlerException methodArgumentNotValid br.com.zup.edu.nossalojavirtual.util.CustomErrorMessage@4a6783b0
2022-11-17 01:23:30,546 [http-nio-8080-exec-4] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.categories.CategoryController.createCategory(br.com.zup.edu.nossalojavirtual.categories.NewCategoryRequest): [Field error in object 'newCategoryRequest' on field 'name': rejected value [limpeza]; codes [category.name.alreadyExists.newCategoryRequest.name,category.name.alreadyExists.name,category.name.alreadyExists.java.lang.String,category.name.alreadyExists]; arguments []; default message [name is already registered]] ]
2022-11-17 01:24:23,114 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:24:23,115 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 01:24:23,333 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 01:24:23,334 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 01:24:23,336 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 01:24:28,790 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 01:24:28,797 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 12732 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 01:24:28,798 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 01:24:28,844 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 01:24:28,845 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 01:24:29,608 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 01:24:29,673 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 58 ms. Found 7 JPA repository interfaces.
2022-11-17 01:24:29,883 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 01:24:30,416 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 01:24:30,425 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 01:24:30,426 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 01:24:30,426 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 01:24:30,534 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 01:24:30,534 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1689 ms
2022-11-17 01:24:30,563 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 01:24:30,763 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 01:24:30,773 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 01:24:30,890 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 01:24:30,931 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 01:24:31,087 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 01:24:31,195 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 01:24:31,928 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 01:24:31,935 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:24:32,536 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 01:24:33,077 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2791b142, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a4e3ea8, org.springframework.security.web.context.SecurityContextPersistenceFilter@7128ca01, org.springframework.security.web.header.HeaderWriterFilter@80825f7, org.springframework.web.filter.CorsFilter@1638195, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@28606cd8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e817874, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f2378, org.springframework.security.web.session.SessionManagementFilter@2c3a0d85, org.springframework.security.web.access.ExceptionTranslationFilter@2e3eab68, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f8ed2f4]
2022-11-17 01:24:33,370 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 01:24:33,387 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 01:24:33,547 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.308 seconds (JVM running for 6.227)
2022-11-17 01:24:37,087 [http-nio-8080-exec-2] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 01:24:37,087 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 01:24:37,088 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 0 ms
2022-11-17 01:24:37,428 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 01:24:39,143 [http-nio-8080-exec-3] WARN br.com.zup.edu.nossalojavirtual.util.HandlerException methodArgumentNotValid [name: name is already registered]
2022-11-17 01:24:39,163 [http-nio-8080-exec-3] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.categories.CategoryController.createCategory(br.com.zup.edu.nossalojavirtual.categories.NewCategoryRequest): [Field error in object 'newCategoryRequest' on field 'name': rejected value [limpeza]; codes [category.name.alreadyExists.newCategoryRequest.name,category.name.alreadyExists.name,category.name.alreadyExists.java.lang.String,category.name.alreadyExists]; arguments []; default message [name is already registered]] ]
2022-11-17 01:26:52,019 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:26:52,020 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 01:26:52,238 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 01:26:52,239 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 01:26:52,240 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 01:26:58,235 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 01:26:58,240 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 13284 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 01:26:58,241 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 01:26:58,284 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 01:26:58,284 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 01:26:58,938 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 01:26:58,998 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 55 ms. Found 7 JPA repository interfaces.
2022-11-17 01:26:59,191 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 01:26:59,680 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 01:26:59,687 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 01:26:59,687 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 01:26:59,688 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 01:26:59,768 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 01:26:59,769 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1484 ms
2022-11-17 01:26:59,792 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 01:26:59,971 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 01:26:59,981 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 01:27:00,098 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 01:27:00,137 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 01:27:00,264 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 01:27:00,352 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 01:27:00,992 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 01:27:00,999 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:27:01,518 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 01:27:01,977 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@43648b2e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@485f08fa, org.springframework.security.web.context.SecurityContextPersistenceFilter@73daf10a, org.springframework.security.web.header.HeaderWriterFilter@6e9ab582, org.springframework.web.filter.CorsFilter@1fa91259, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@7835e29a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f6361af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ff0b1b6, org.springframework.security.web.session.SessionManagementFilter@4ccfd17, org.springframework.security.web.access.ExceptionTranslationFilter@5fdd7633, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@18f3c897]
2022-11-17 01:27:02,236 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 01:27:02,250 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 01:27:02,406 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 4.718 seconds (JVM running for 5.456)
2022-11-17 01:27:07,356 [http-nio-8080-exec-1] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 01:27:07,358 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 01:27:07,359 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 01:27:07,649 [http-nio-8080-exec-1] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 01:27:07,655 [http-nio-8080-exec-1] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 01:39:15,688 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:39:15,689 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 01:39:15,909 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 01:39:15,910 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 01:39:15,911 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 01:39:22,368 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 01:39:22,388 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 19636 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 01:39:22,389 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 01:39:22,436 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 01:39:22,436 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 01:39:23,171 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 01:39:23,244 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 66 ms. Found 7 JPA repository interfaces.
2022-11-17 01:39:23,450 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 01:39:23,980 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 01:39:23,988 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 01:39:23,988 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 01:39:23,989 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 01:39:24,067 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 01:39:24,067 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1630 ms
2022-11-17 01:39:24,090 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 01:39:24,296 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 01:39:24,304 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 01:39:24,471 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 01:39:24,522 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 01:39:24,662 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 01:39:24,775 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 01:39:25,508 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 01:39:25,517 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:39:26,113 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 01:39:26,655 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@785c5089, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ebb9d55, org.springframework.security.web.context.SecurityContextPersistenceFilter@3beb649a, org.springframework.security.web.header.HeaderWriterFilter@43e7ed3c, org.springframework.web.filter.CorsFilter@6bf8ad26, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@255e1915, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@486fba4a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a6c45e4, org.springframework.security.web.session.SessionManagementFilter@1afca207, org.springframework.security.web.access.ExceptionTranslationFilter@65ff7109, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c283e7a]
2022-11-17 01:39:26,916 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 01:39:26,935 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 01:39:27,088 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.262 seconds (JVM running for 6.225)
2022-11-17 01:39:30,570 [http-nio-8080-exec-2] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 01:39:30,571 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 01:39:30,572 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 01:39:40,161 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.soares@zup.com.br registration
2022-11-17 01:39:40,167 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.soares@zup.com.br successfully registered
2022-11-17 01:39:42,208 [http-nio-8080-exec-4] WARN br.com.zup.edu.nossalojavirtual.util.HandlerException methodArgumentNotValid [login: login is already registered]
2022-11-17 01:39:42,230 [http-nio-8080-exec-4] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.users.UserController.createUser(br.com.zup.edu.nossalojavirtual.users.NewUserRequest): [Field error in object 'newUserRequest' on field 'login': rejected value [danyllo.soares@zup.com.br]; codes [user.login.alreadyRegistered.newUserRequest.login,user.login.alreadyRegistered.login,user.login.alreadyRegistered.java.lang.String,user.login.alreadyRegistered]; arguments []; default message [login is already registered]] ]
2022-11-17 01:40:21,198 [http-nio-8080-exec-10] WARN br.com.zup.edu.nossalojavirtual.util.HandlerException methodArgumentNotValid [login: não deve estar vazio]
2022-11-17 01:40:21,200 [http-nio-8080-exec-10] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.users.UserController.createUser(br.com.zup.edu.nossalojavirtual.users.NewUserRequest): [Field error in object 'newUserRequest' on field 'login': rejected value []; codes [NotEmpty.newUserRequest.login,NotEmpty.login,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [newUserRequest.login,login]; arguments []; default message [login]]; default message [não deve estar vazio]] ]
2022-11-17 01:52:29,088 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:52:29,090 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 01:52:29,318 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 01:52:29,320 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 01:52:29,322 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 01:52:33,099 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 01:52:33,112 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 18596 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 01:52:33,113 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 01:52:33,164 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 01:52:33,165 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 01:52:33,946 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 01:52:34,013 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 60 ms. Found 7 JPA repository interfaces.
2022-11-17 01:52:34,239 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 01:52:34,758 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 01:52:34,767 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 01:52:34,768 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 01:52:34,768 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 01:52:34,844 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 01:52:34,845 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1679 ms
2022-11-17 01:52:34,875 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 01:52:35,096 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 01:52:35,109 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 01:52:35,251 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 01:52:35,293 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 01:52:35,514 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 01:52:35,637 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 01:52:37,101 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 01:52:37,109 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 01:52:37,747 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 01:52:38,314 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a6c45e4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e8638, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c975bce, org.springframework.security.web.header.HeaderWriterFilter@6cc24cd4, org.springframework.web.filter.CorsFilter@621df25d, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@3ebb9d55, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b8ac4ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c22e2a5, org.springframework.security.web.session.SessionManagementFilter@3beb649a, org.springframework.security.web.access.ExceptionTranslationFilter@415fcb5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d3d3ae8]
2022-11-17 01:52:38,615 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 01:52:38,636 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 01:52:38,795 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 6.425 seconds (JVM running for 7.411)
2022-11-17 01:53:25,347 [http-nio-8080-exec-1] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 01:53:25,348 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 01:53:25,350 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 01:53:25,681 [http-nio-8080-exec-1] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 01:53:25,687 [http-nio-8080-exec-1] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 01:53:58,676 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.soares@zup.com.br registration
2022-11-17 01:53:58,680 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.soares@zup.com.br successfully registered
2022-11-17 01:54:14,773 [http-nio-8080-exec-5] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.ArrayList<br.com.zup.edu.nossalojavirtual.products.NewCharacteristicRequest>` from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList<br.com.zup.edu.nossalojavirtual.products.NewCharacteristicRequest>` from Object value (token `JsonToken.START_OBJECT`)<EOL> at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 6, column: 24] (through reference chain: br.com.zup.edu.nossalojavirtual.products.NewProductRequest["characteristics"])]
2022-11-17 01:57:12,432 [http-nio-8080-exec-7] WARN br.com.zup.edu.nossalojavirtual.util.HandlerException methodArgumentNotValid [characteristics: tamanho deve ser entre 3 e 2147483647]
2022-11-17 01:57:12,443 [http-nio-8080-exec-7] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.products.ProductController.create(br.com.zup.edu.nossalojavirtual.products.NewProductRequest,org.springframework.security.oauth2.jwt.Jwt): [Field error in object 'newProductRequest' on field 'characteristics': rejected value [[NewCharacteristicRequest[name='rodo doido', description='rodo longo e doido'], NewCharacteristicRequest[name='rodo maluco', description='rodo maluco mesmo e limpa bem']]]; codes [Size.newProductRequest.characteristics,Size.characteristics,Size.java.util.List,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [newProductRequest.characteristics,characteristics]; arguments []; default message [characteristics],2147483647,3]; default message [tamanho deve ser entre 3 e 2147483647]] ]
2022-11-17 01:57:47,350 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/6155aca0-2a12-44cb-94bd-9a747223fea5/2022-11-17T01:57:47.350671500
2022-11-17 01:57:47,351 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/6155aca0-2a12-44cb-94bd-9a747223fea5/2022-11-17T01:57:47.351671800
2022-11-17 02:06:28,872 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:06:28,873 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 02:06:29,101 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 02:06:29,103 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 02:06:29,105 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 02:06:35,972 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 02:06:35,983 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 16752 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 02:06:35,983 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 02:06:36,034 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 02:06:36,035 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 02:06:36,883 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 02:06:36,961 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 69 ms. Found 7 JPA repository interfaces.
2022-11-17 02:06:37,202 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 02:06:37,796 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 02:06:37,806 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 02:06:37,807 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 02:06:37,807 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 02:06:37,905 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 02:06:37,906 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1871 ms
2022-11-17 02:06:37,937 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 02:06:38,166 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 02:06:38,177 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 02:06:38,298 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 02:06:38,343 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 02:06:38,530 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 02:06:38,638 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 02:06:39,424 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 02:06:39,433 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:06:40,102 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 02:06:40,757 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ec53e09, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@bb5b600, org.springframework.security.web.context.SecurityContextPersistenceFilter@514342b3, org.springframework.security.web.header.HeaderWriterFilter@6885da85, org.springframework.web.filter.CorsFilter@21458b1, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@b905710, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@216c72f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54e2107b, org.springframework.security.web.session.SessionManagementFilter@65eabb7c, org.springframework.security.web.access.ExceptionTranslationFilter@7b13801f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7f689ac6]
2022-11-17 02:06:41,058 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 02:06:41,078 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 02:06:41,241 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.871 seconds (JVM running for 6.921)
2022-11-17 02:06:45,646 [http-nio-8080-exec-1] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 02:06:45,647 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 02:06:45,649 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 02:06:52,698 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 02:06:52,706 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 02:07:07,831 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.soares@zup.com.br registration
2022-11-17 02:07:07,838 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.soares@zup.com.br successfully registered
2022-11-17 02:07:17,684 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create Starting product rodo registration
2022-11-17 02:07:17,715 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/fd4261f9-b302-405f-a719-21ffe938f9bf/2022-11-17T02:07:17.715687400
2022-11-17 02:07:17,715 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/fd4261f9-b302-405f-a719-21ffe938f9bf/2022-11-17T02:07:17.715687400
2022-11-17 02:07:17,780 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create product rodo successfully registered
2022-11-17 02:09:08,986 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create Starting product rodo registration
2022-11-17 02:09:08,989 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/a9b7eb3c-8513-4e6a-9919-50424cf4704d/2022-11-17T02:09:08.989651500
2022-11-17 02:09:08,989 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/a9b7eb3c-8513-4e6a-9919-50424cf4704d/2022-11-17T02:09:08.989651500
2022-11-17 02:09:08,995 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create product rodo successfully registered
2022-11-17 02:09:19,368 [http-nio-8080-exec-9] WARN br.com.zup.edu.nossalojavirtual.util.HandlerException methodArgumentNotValid [categoryId: Category categoryId is not registered]
2022-11-17 02:09:19,390 [http-nio-8080-exec-9] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.products.ProductController.create(br.com.zup.edu.nossalojavirtual.products.NewProductRequest,org.springframework.security.oauth2.jwt.Jwt): [Field error in object 'newProductRequest' on field 'categoryId': rejected value [8888]; codes [category.id.dontExist.newProductRequest.categoryId,category.id.dontExist.categoryId,category.id.dontExist.java.lang.Long,category.id.dontExist]; arguments []; default message [Category categoryId is not registered]] ]
2022-11-17 02:10:20,577 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:10:20,578 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 02:10:20,806 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 02:10:20,807 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 02:10:20,808 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 02:10:25,835 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 02:10:25,846 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 21596 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 02:10:25,846 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 02:10:25,899 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 02:10:25,899 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 02:10:26,704 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 02:10:26,777 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 66 ms. Found 7 JPA repository interfaces.
2022-11-17 02:10:27,035 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 02:10:27,670 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 02:10:27,681 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 02:10:27,681 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 02:10:27,682 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 02:10:27,786 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 02:10:27,786 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1886 ms
2022-11-17 02:10:27,820 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 02:10:28,078 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 02:10:28,089 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 02:10:28,217 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 02:10:28,271 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 02:10:28,464 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 02:10:28,590 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 02:10:29,358 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 02:10:29,366 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:10:30,087 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 02:10:30,637 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71be491b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c4c0190, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c3a0d85, org.springframework.security.web.header.HeaderWriterFilter@73a18a5a, org.springframework.web.filter.CorsFilter@15418b82, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@6f2378, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@171ae3fe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b0da295, org.springframework.security.web.session.SessionManagementFilter@74e67cab, org.springframework.security.web.access.ExceptionTranslationFilter@5d00f054, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@510786dc]
2022-11-17 02:10:30,928 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 02:10:30,947 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 02:10:31,103 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.888 seconds (JVM running for 6.901)
2022-11-17 02:10:35,467 [http-nio-8080-exec-2] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 02:10:35,468 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 02:10:35,470 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 02:10:35,863 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 02:10:35,873 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 02:10:44,283 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.siqueira@zup.com.br registration
2022-11-17 02:10:44,289 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.siqueira@zup.com.br successfully registered
2022-11-17 02:10:48,827 [http-nio-8080-exec-4] WARN br.com.zup.edu.nossalojavirtual.util.HandlerException methodArgumentNotValid [categoryId: Category categoryId is not registered]
2022-11-17 02:10:48,844 [http-nio-8080-exec-4] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.products.ProductController.create(br.com.zup.edu.nossalojavirtual.products.NewProductRequest,org.springframework.security.oauth2.jwt.Jwt): [Field error in object 'newProductRequest' on field 'categoryId': rejected value [8888]; codes [category.id.dontExist.newProductRequest.categoryId,category.id.dontExist.categoryId,category.id.dontExist.java.lang.Long,category.id.dontExist]; arguments []; default message [Category categoryId is not registered]] ]
2022-11-17 02:10:54,214 [http-nio-8080-exec-6] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create Starting product rodo registration
2022-11-17 02:10:54,220 [http-nio-8080-exec-6] WARN br.com.zup.edu.nossalojavirtual.products.ProductController lambda$create$0 user danyllo.soares@zup.com.br not registered
2022-11-17 02:10:54,222 [http-nio-8080-exec-6] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.server.ResponseStatusException: 422 UNPROCESSABLE_ENTITY "usuário não registrado"]
2022-11-17 02:11:20,271 [http-nio-8080-exec-7] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.soares@zup.com.br registration
2022-11-17 02:11:20,273 [http-nio-8080-exec-7] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.soares@zup.com.br successfully registered
2022-11-17 02:11:23,593 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create Starting product rodo registration
2022-11-17 02:11:23,614 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/4/b4a8c97d-36cc-4e42-9081-f914f7fc739a/2022-11-17T02:11:23.614488800
2022-11-17 02:11:23,616 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/4/b4a8c97d-36cc-4e42-9081-f914f7fc739a/2022-11-17T02:11:23.616109100
2022-11-17 02:11:23,696 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create product rodo successfully registered
2022-11-17 02:15:04,557 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:15:04,561 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 02:15:04,793 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 02:15:04,796 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 02:15:04,800 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 02:15:09,253 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 02:15:09,260 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 22600 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 02:15:09,261 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 02:15:09,312 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 02:15:09,313 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 02:15:10,617 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 02:15:10,702 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 78 ms. Found 7 JPA repository interfaces.
2022-11-17 02:15:10,968 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 02:15:11,804 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 02:15:11,815 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 02:15:11,816 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 02:15:11,816 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 02:15:11,918 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 02:15:11,918 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 2605 ms
2022-11-17 02:15:11,958 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 02:15:12,204 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 02:15:12,216 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 02:15:12,365 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 02:15:12,417 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 02:15:12,680 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 02:15:12,822 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 02:15:13,686 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 02:15:13,698 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:15:14,453 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 02:15:15,060 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e5f51f1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71f0c859, org.springframework.security.web.context.SecurityContextPersistenceFilter@206fb5ab, org.springframework.security.web.header.HeaderWriterFilter@e56034a, org.springframework.web.filter.CorsFilter@6870bde1, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@6f8ed2f4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74e67cab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@510786dc, org.springframework.security.web.session.SessionManagementFilter@7cf5ba1, org.springframework.security.web.access.ExceptionTranslationFilter@1777a68f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@155db663]
2022-11-17 02:15:15,382 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 02:15:15,402 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 02:15:15,567 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 6.926 seconds (JVM running for 7.93)
2022-11-17 02:15:15,965 [http-nio-8080-exec-2] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 02:15:15,965 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 02:15:15,967 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 02:15:16,410 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 02:15:16,417 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 02:15:27,481 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.soares@zup.com.br registration
2022-11-17 02:15:27,489 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.soares@zup.com.br successfully registered
2022-11-17 02:15:54,858 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create Starting product rodo registration
2022-11-17 02:15:54,881 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/f3b8ff3c-f2f9-49fe-97c7-c4cc67c33ada/2022-11-17T02:15:54.881008100
2022-11-17 02:15:54,881 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/f3b8ff3c-f2f9-49fe-97c7-c4cc67c33ada/2022-11-17T02:15:54.881008100
2022-11-17 02:15:54,939 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create product rodo successfully registered
2022-11-17 02:25:28,755 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:25:28,757 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 02:25:28,993 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 02:25:28,994 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 02:25:28,996 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 02:25:34,759 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 02:25:34,768 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 3280 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 02:25:34,769 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 02:25:34,823 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 02:25:34,823 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 02:25:35,872 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 02:25:35,951 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 71 ms. Found 7 JPA repository interfaces.
2022-11-17 02:25:36,245 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 02:25:36,971 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 02:25:36,983 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 02:25:36,984 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 02:25:36,984 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 02:25:37,062 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 02:25:37,063 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 2239 ms
2022-11-17 02:25:37,094 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 02:25:37,291 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 02:25:37,299 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 02:25:37,419 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 02:25:37,463 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 02:25:37,617 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 02:25:37,728 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 02:25:38,444 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 02:25:38,452 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:25:39,094 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 02:25:39,629 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7268476d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bdcd1c1, org.springframework.security.web.context.SecurityContextPersistenceFilter@77849df6, org.springframework.security.web.header.HeaderWriterFilter@f7e6d85, org.springframework.web.filter.CorsFilter@28606cd8, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@72c6272d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d82b784, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17f2cffe, org.springframework.security.web.session.SessionManagementFilter@2e3eab68, org.springframework.security.web.access.ExceptionTranslationFilter@206fb5ab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@172b786]
2022-11-17 02:25:39,908 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 02:25:39,927 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 02:25:40,083 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.895 seconds (JVM running for 6.807)
2022-11-17 02:26:32,998 [http-nio-8080-exec-1] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 02:26:32,999 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 02:26:33,001 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 02:26:41,398 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 02:26:41,404 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 02:26:47,671 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.soares@zup.com.br registration
2022-11-17 02:26:47,678 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.soares@zup.com.br successfully registered
2022-11-17 02:26:55,029 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create Starting product rodo registration
2022-11-17 02:26:55,052 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/08c4ace8-0a20-401f-b714-2f70db0d3ac0/2022-11-17T02:26:55.052997500
2022-11-17 02:26:55,052 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/08c4ace8-0a20-401f-b714-2f70db0d3ac0/2022-11-17T02:26:55.052997500
2022-11-17 02:26:55,102 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create product rodo successfully registered
2022-11-17 02:27:16,858 [http-nio-8080-exec-7] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create Starting product opinion muito bom registration
2022-11-17 02:27:16,877 [http-nio-8080-exec-7] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create product opinion muito bom successfully registered
2022-11-17 02:27:36,472 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create Starting product opinion muito bom registration
2022-11-17 02:27:36,479 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create product opinion muito bom successfully registered
2022-11-17 02:27:59,545 [http-nio-8080-exec-9] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.UUID` from String "batatinha": UUID has to be represented by standard 36-char representation; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.util.UUID` from String "batatinha": UUID has to be represented by standard 36-char representation<EOL> at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 5, column: 18] (through reference chain: br.com.zup.edu.nossalojavirtual.products.NewOpinionRequest["productId"])]
2022-11-17 02:29:51,540 [http-nio-8080-exec-3] WARN br.com.zup.edu.nossalojavirtual.util.HandlerException methodArgumentNotValid [productId: Category productId is not registered]
2022-11-17 02:29:51,553 [http-nio-8080-exec-3] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.products.ProductOpinionController.create(br.com.zup.edu.nossalojavirtual.products.NewOpinionRequest,org.springframework.security.oauth2.jwt.Jwt): [Field error in object 'newOpinionRequest' on field 'productId': rejected value [f3b8ff3c-f2f9-49fe-97c7-c4cc67c33ada]; codes [product.id.dontExist.newOpinionRequest.productId,product.id.dontExist.productId,product.id.dontExist.java.util.UUID,product.id.dontExist]; arguments []; default message [Category productId is not registered]] ]
2022-11-17 02:31:10,565 [http-nio-8080-exec-2] WARN br.com.zup.edu.nossalojavirtual.util.HandlerException methodArgumentNotValid [productId: Category productId is not registered]
2022-11-17 02:31:10,566 [http-nio-8080-exec-2] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.products.ProductOpinionController.create(br.com.zup.edu.nossalojavirtual.products.NewOpinionRequest,org.springframework.security.oauth2.jwt.Jwt): [Field error in object 'newOpinionRequest' on field 'productId': rejected value [f3b8ff3c-f2f9-49fe-97c7-c4cc67c33ada]; codes [product.id.dontExist.newOpinionRequest.productId,product.id.dontExist.productId,product.id.dontExist.java.util.UUID,product.id.dontExist]; arguments []; default message [Category productId is not registered]] ]
2022-11-17 02:32:17,612 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create Starting product opinion muito bom registration
2022-11-17 02:32:17,619 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create product opinion muito bom successfully registered
2022-11-17 02:32:37,742 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:32:37,743 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 02:32:37,968 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 02:32:37,969 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 02:32:37,972 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 02:32:45,353 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 02:32:45,362 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 22984 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 02:32:45,362 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 02:32:45,407 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 02:32:45,407 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 02:32:46,220 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 02:32:46,294 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 66 ms. Found 7 JPA repository interfaces.
2022-11-17 02:32:46,529 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 02:32:47,084 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 02:32:47,102 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 02:32:47,103 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 02:32:47,104 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 02:32:47,215 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 02:32:47,216 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1808 ms
2022-11-17 02:32:47,257 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 02:32:47,481 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 02:32:47,492 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 02:32:47,622 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 02:32:47,665 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 02:32:47,815 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 02:32:47,921 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 02:32:48,643 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 02:32:48,652 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:32:49,255 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 02:32:49,797 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6bca0972, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@581e60c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@463c9e18, org.springframework.security.web.header.HeaderWriterFilter@7c6da2e1, org.springframework.web.filter.CorsFilter@55cd1fd5, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@714f8235, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@341216db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@715b37e8, org.springframework.security.web.session.SessionManagementFilter@50061c28, org.springframework.security.web.access.ExceptionTranslationFilter@1da76d52, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@677b5cc9]
2022-11-17 02:32:50,069 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 02:32:50,087 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 02:32:50,249 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.507 seconds (JVM running for 6.466)
2022-11-17 02:41:30,769 [http-nio-8080-exec-1] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 02:41:30,770 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 02:41:30,772 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 02:41:31,184 [http-nio-8080-exec-1] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 02:41:31,194 [http-nio-8080-exec-1] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 02:41:38,269 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:41:38,270 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 02:41:38,504 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 02:41:38,507 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 02:41:38,508 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 02:41:44,938 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 02:41:44,947 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 4048 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 02:41:44,948 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 02:41:44,997 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 02:41:44,998 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 02:41:45,961 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 02:41:46,033 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 65 ms. Found 7 JPA repository interfaces.
2022-11-17 02:41:46,242 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 02:41:46,845 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 02:41:46,852 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 02:41:46,853 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 02:41:46,853 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 02:41:46,944 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 02:41:46,945 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1947 ms
2022-11-17 02:41:46,971 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 02:41:47,154 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 02:41:47,164 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 02:41:47,290 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 02:41:47,333 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 02:41:47,474 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 02:41:47,592 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 02:41:48,330 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 02:41:48,339 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:41:48,923 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 02:41:49,503 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c10709a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47284dc3, org.springframework.security.web.context.SecurityContextPersistenceFilter@de6e85c, org.springframework.security.web.header.HeaderWriterFilter@1007408, org.springframework.web.filter.CorsFilter@32a7c209, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@76107d42, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@776d9e6c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d8261b8, org.springframework.security.web.session.SessionManagementFilter@7176b7fe, org.springframework.security.web.access.ExceptionTranslationFilter@60766ff4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f007964]
2022-11-17 02:41:49,891 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 02:41:49,915 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 02:41:50,088 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.751 seconds (JVM running for 7.026)
2022-11-17 02:41:52,399 [http-nio-8080-exec-2] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 02:41:52,400 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 02:41:52,402 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 02:41:52,876 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 02:41:52,887 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 02:42:04,987 [http-nio-8080-exec-1] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.soares@zup.com.br registration
2022-11-17 02:42:04,993 [http-nio-8080-exec-1] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.soares@zup.com.br successfully registered
2022-11-17 02:42:12,394 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create Starting product rodo registration
2022-11-17 02:42:12,413 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/e1210b08-37f6-4462-9a7f-da9322f2af7c/2022-11-17T02:42:12.413353300
2022-11-17 02:42:12,414 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/e1210b08-37f6-4462-9a7f-da9322f2af7c/2022-11-17T02:42:12.414136200
2022-11-17 02:42:12,457 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create product rodo successfully registered
2022-11-17 02:42:42,935 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create Starting product opinion muito bom registration
2022-11-17 02:42:42,950 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create product opinion muito bom successfully registered
2022-11-17 02:45:12,958 [http-nio-8080-exec-9] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get Get product e1210b08-37f6-4462-9a7f-da9322f2af7c details
2022-11-17 02:45:12,961 [http-nio-8080-exec-9] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get Search of product details e1210b08-37f6-4462-9a7f-da9322f2af7c successful
2022-11-17 02:45:12,976 [http-nio-8080-exec-9] ERROR org.apache.juli.logging.DirectJDKLog log Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: br.com.zup.edu.nossalojavirtual.products.Product.characteristics, could not initialize proxy - no Session] with root cause
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: br.com.zup.edu.nossalojavirtual.products.Product.characteristics, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591)
	at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)
	at org.hibernate.collection.internal.PersistentSet.iterator(PersistentSet.java:188)
	at java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1865)
	at java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:414)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:508)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at br.com.zup.edu.nossalojavirtual.products.CharacteristicResponse.from(CharacteristicResponse.java:36)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsResponse.<init>(ProductDetailsResponse.java:49)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsController.get(ProductDetailsController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:142)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-17 02:46:46,286 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:46:46,287 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 02:46:46,528 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 02:46:46,529 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 02:46:46,537 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 02:46:50,745 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 02:46:50,753 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 16700 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 02:46:50,753 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 02:46:50,798 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 02:46:50,798 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 02:46:51,589 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 02:46:51,654 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 59 ms. Found 7 JPA repository interfaces.
2022-11-17 02:46:51,873 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 02:46:52,404 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 02:46:52,414 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 02:46:52,415 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 02:46:52,415 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 02:46:52,497 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 02:46:52,497 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1698 ms
2022-11-17 02:46:52,522 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 02:46:52,738 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 02:46:52,747 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 02:46:52,863 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 02:46:52,905 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 02:46:53,056 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 02:46:53,164 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 02:46:53,875 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 02:46:53,883 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:46:54,499 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 02:46:55,020 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3e3f188d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1588fe21, org.springframework.security.web.context.SecurityContextPersistenceFilter@70abd33f, org.springframework.security.web.header.HeaderWriterFilter@5aa6f924, org.springframework.web.filter.CorsFilter@33f01243, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@4f9d3873, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11ca457c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@677b5cc9, org.springframework.security.web.session.SessionManagementFilter@5a122d4c, org.springframework.security.web.access.ExceptionTranslationFilter@a86843c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d15a084]
2022-11-17 02:46:55,292 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 02:46:55,309 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 02:46:55,471 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.307 seconds (JVM running for 6.231)
2022-11-17 02:47:05,138 [http-nio-8080-exec-2] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 02:47:05,139 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 02:47:05,140 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 02:47:05,479 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 02:47:05,487 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 02:47:13,175 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.soares@zup.com.br registration
2022-11-17 02:47:13,181 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.soares@zup.com.br successfully registered
2022-11-17 02:47:21,550 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create Starting product rodo registration
2022-11-17 02:47:21,570 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/6a643e5c-44b8-4df9-b6c2-ec3d07f85a15/2022-11-17T02:47:21.570731300
2022-11-17 02:47:21,571 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/6a643e5c-44b8-4df9-b6c2-ec3d07f85a15/2022-11-17T02:47:21.571729800
2022-11-17 02:47:21,624 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create product rodo successfully registered
2022-11-17 02:47:40,693 [http-nio-8080-exec-6] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create Starting product opinion muito bom registration
2022-11-17 02:47:40,713 [http-nio-8080-exec-6] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create product opinion muito bom successfully registered
2022-11-17 02:47:59,218 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get Get product 6a643e5c-44b8-4df9-b6c2-ec3d07f85a15 details
2022-11-17 02:47:59,221 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get Search of product details 6a643e5c-44b8-4df9-b6c2-ec3d07f85a15 successful
2022-11-17 02:47:59,235 [http-nio-8080-exec-5] ERROR org.apache.juli.logging.DirectJDKLog log Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: br.com.zup.edu.nossalojavirtual.products.Product.characteristics, could not initialize proxy - no Session] with root cause
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: br.com.zup.edu.nossalojavirtual.products.Product.characteristics, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591)
	at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)
	at org.hibernate.collection.internal.PersistentSet.iterator(PersistentSet.java:188)
	at java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1865)
	at java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:414)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:508)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at br.com.zup.edu.nossalojavirtual.products.CharacteristicResponse.from(CharacteristicResponse.java:36)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsResponse.<init>(ProductDetailsResponse.java:49)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsController.get(ProductDetailsController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:142)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-17 02:51:53,668 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:51:53,670 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 02:51:53,893 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 02:51:53,894 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 02:51:53,898 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 02:51:59,311 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 02:51:59,326 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 13736 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 02:51:59,327 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 02:51:59,376 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 02:51:59,377 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 02:52:00,100 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 02:52:00,168 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 63 ms. Found 7 JPA repository interfaces.
2022-11-17 02:52:00,374 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 02:52:00,904 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 02:52:00,912 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 02:52:00,913 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 02:52:00,913 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 02:52:00,987 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 02:52:00,987 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1610 ms
2022-11-17 02:52:01,014 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 02:52:01,215 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 02:52:01,223 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 02:52:01,332 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 02:52:01,373 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 02:52:01,518 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 02:52:01,631 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 02:52:02,325 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 02:52:02,333 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:52:02,929 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 02:52:03,461 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@263dc493, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65c7d85b, org.springframework.security.web.context.SecurityContextPersistenceFilter@59f58e21, org.springframework.security.web.header.HeaderWriterFilter@942f60c, org.springframework.web.filter.CorsFilter@d3d3ae8, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@46b5d4e7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@65ff7109, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@eb0edb, org.springframework.security.web.session.SessionManagementFilter@4cc8ab21, org.springframework.security.web.access.ExceptionTranslationFilter@315c013d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@55cd1fd5]
2022-11-17 02:52:03,743 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 02:52:03,762 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 02:52:03,916 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.147 seconds (JVM running for 6.114)
2022-11-17 02:52:10,481 [http-nio-8080-exec-3] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 02:52:10,481 [http-nio-8080-exec-3] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 02:52:10,483 [http-nio-8080-exec-3] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 02:52:10,805 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 02:52:10,813 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 02:52:13,317 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.soares@zup.com.br registration
2022-11-17 02:52:13,322 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.soares@zup.com.br successfully registered
2022-11-17 02:52:15,911 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create Starting product rodo registration
2022-11-17 02:52:15,930 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/73a6f3c3-17be-448a-bd64-4d57a848d59b/2022-11-17T02:52:15.930381200
2022-11-17 02:52:15,931 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/73a6f3c3-17be-448a-bd64-4d57a848d59b/2022-11-17T02:52:15.931379800
2022-11-17 02:52:15,980 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create product rodo successfully registered
2022-11-17 02:52:22,864 [http-nio-8080-exec-2] WARN br.com.zup.edu.nossalojavirtual.util.HandlerException methodArgumentNotValid [productId: Category productId is not registered]
2022-11-17 02:52:22,882 [http-nio-8080-exec-2] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.products.ProductOpinionController.create(br.com.zup.edu.nossalojavirtual.products.NewOpinionRequest,org.springframework.security.oauth2.jwt.Jwt): [Field error in object 'newOpinionRequest' on field 'productId': rejected value [6a643e5c-44b8-4df9-b6c2-ec3d07f85a15]; codes [product.id.dontExist.newOpinionRequest.productId,product.id.dontExist.productId,product.id.dontExist.java.util.UUID,product.id.dontExist]; arguments []; default message [Category productId is not registered]] ]
2022-11-17 02:52:32,167 [http-nio-8080-exec-7] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create Starting product opinion muito bom registration
2022-11-17 02:52:32,190 [http-nio-8080-exec-7] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create product opinion muito bom successfully registered
2022-11-17 02:52:37,581 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get Get product 6a643e5c-44b8-4df9-b6c2-ec3d07f85a15 details
2022-11-17 02:52:37,584 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get product 6a643e5c-44b8-4df9-b6c2-ec3d07f85a15 does not exist
2022-11-17 02:52:48,199 [http-nio-8080-exec-9] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get Get product 73a6f3c3-17be-448a-bd64-4d57a848d59b details
2022-11-17 02:52:48,202 [http-nio-8080-exec-9] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get Search of product details 73a6f3c3-17be-448a-bd64-4d57a848d59b successful
2022-11-17 02:52:48,212 [http-nio-8080-exec-9] ERROR org.apache.juli.logging.DirectJDKLog log Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: br.com.zup.edu.nossalojavirtual.products.Product.photos, could not initialize proxy - no Session] with root cause
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: br.com.zup.edu.nossalojavirtual.products.Product.photos, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591)
	at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)
	at org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:387)
	at java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1865)
	at java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:414)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:508)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsResponse.<init>(ProductDetailsResponse.java:54)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsController.get(ProductDetailsController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:142)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-17 02:54:14,019 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:54:14,020 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 02:54:14,251 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 02:54:14,252 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 02:54:14,253 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 02:54:20,691 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 02:54:20,699 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 8976 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 02:54:20,700 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 02:54:20,751 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 02:54:20,751 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 02:54:21,575 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 02:54:21,638 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 56 ms. Found 7 JPA repository interfaces.
2022-11-17 02:54:21,846 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 02:54:22,381 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 02:54:22,390 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 02:54:22,390 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 02:54:22,390 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 02:54:22,468 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 02:54:22,469 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1717 ms
2022-11-17 02:54:22,493 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 02:54:22,684 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 02:54:22,693 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 02:54:22,802 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 02:54:22,844 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 02:54:22,989 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 02:54:23,101 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 02:54:23,702 [restartedMain] ERROR org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.photos, br.com.zup.edu.nossalojavirtual.products.Product.questions, br.com.zup.edu.nossalojavirtual.products.Product.opinions]
2022-11-17 02:54:23,703 [restartedMain] WARN org.springframework.context.support.AbstractApplicationContext refresh Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.photos, br.com.zup.edu.nossalojavirtual.products.Product.questions, br.com.zup.edu.nossalojavirtual.products.Product.opinions]
2022-11-17 02:54:23,918 [restartedMain] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 02:54:23,919 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 02:54:23,922 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 02:54:23,925 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Stopping service [Tomcat]
2022-11-17 02:54:23,939 [restartedMain] INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener logMessage 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-11-17 02:54:23,976 [restartedMain] ERROR org.springframework.boot.SpringApplication reportFailure Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.photos, br.com.zup.edu.nossalojavirtual.products.Product.questions, br.com.zup.edu.nossalojavirtual.products.Product.opinions]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at br.com.zup.edu.nossalojavirtual.NossaLojaVirtualApplication.main(NossaLojaVirtualApplication.java:17)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.photos, br.com.zup.edu.nossalojavirtual.products.Product.questions, br.com.zup.edu.nossalojavirtual.products.Product.opinions]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 19 common frames omitted
Caused by: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.photos, br.com.zup.edu.nossalojavirtual.products.Product.questions, br.com.zup.edu.nossalojavirtual.products.Product.opinions]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadQueryDetails.generate(AbstractLoadQueryDetails.java:193)
	at org.hibernate.loader.plan.exec.internal.EntityLoadQueryDetails.<init>(EntityLoadQueryDetails.java:85)
	at org.hibernate.loader.plan.exec.internal.BatchingLoadQueryDetailsFactory.makeEntityLoadQueryDetails(BatchingLoadQueryDetailsFactory.java:64)
	at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.<init>(AbstractLoadPlanBasedEntityLoader.java:97)
	at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.<init>(AbstractLoadPlanBasedEntityLoader.java:112)
	at org.hibernate.loader.entity.plan.EntityLoader.<init>(EntityLoader.java:117)
	at org.hibernate.loader.entity.plan.EntityLoader.<init>(EntityLoader.java:30)
	at org.hibernate.loader.entity.plan.EntityLoader$Builder.byUniqueKey(EntityLoader.java:82)
	at org.hibernate.loader.entity.plan.EntityLoader$Builder.byPrimaryKey(EntityLoader.java:75)
	at org.hibernate.loader.entity.plan.AbstractBatchingEntityLoaderBuilder.buildNonBatchingLoader(AbstractBatchingEntityLoaderBuilder.java:30)
	at org.hibernate.loader.entity.BatchingEntityLoaderBuilder.buildLoader(BatchingEntityLoaderBuilder.java:61)
	at org.hibernate.persister.entity.AbstractEntityPersister.createEntityLoader(AbstractEntityPersister.java:2689)
	at org.hibernate.persister.entity.AbstractEntityPersister.createEntityLoader(AbstractEntityPersister.java:2711)
	at org.hibernate.persister.entity.AbstractEntityPersister.generateDelayedEntityLoader(AbstractEntityPersister.java:4464)
	at org.hibernate.internal.util.collections.LazyIndexedMap.lockedComputeIfAbsent(LazyIndexedMap.java:77)
	at org.hibernate.internal.util.collections.LazyIndexedMap.computeIfAbsent(LazyIndexedMap.java:63)
	at org.hibernate.persister.entity.EntityLoaderLazyCollection.getOrBuildByLockMode(EntityLoaderLazyCollection.java:34)
	at org.hibernate.persister.entity.AbstractEntityPersister.getLoaderByLockMode(AbstractEntityPersister.java:4455)
	at org.hibernate.persister.entity.AbstractEntityPersister.createLoaders(AbstractEntityPersister.java:4442)
	at org.hibernate.persister.entity.AbstractEntityPersister.postInstantiate(AbstractEntityPersister.java:4416)
	at org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:257)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:319)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 23 common frames omitted
2022-11-17 02:55:04,507 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 02:55:04,510 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 22656 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 02:55:04,510 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 02:55:04,548 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 02:55:04,548 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 02:55:05,187 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 02:55:05,247 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 54 ms. Found 7 JPA repository interfaces.
2022-11-17 02:55:05,440 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 02:55:05,931 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 02:55:05,939 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 02:55:05,940 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 02:55:05,940 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 02:55:06,016 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 02:55:06,017 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1468 ms
2022-11-17 02:55:06,046 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 02:55:06,234 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 02:55:06,243 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 02:55:06,349 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 02:55:06,385 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 02:55:06,525 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 02:55:06,613 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 02:55:07,185 [restartedMain] ERROR org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.opinions, br.com.zup.edu.nossalojavirtual.products.Product.photos]
2022-11-17 02:55:07,186 [restartedMain] WARN org.springframework.context.support.AbstractApplicationContext refresh Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.opinions, br.com.zup.edu.nossalojavirtual.products.Product.photos]
2022-11-17 02:55:07,405 [restartedMain] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 02:55:07,406 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 02:55:07,408 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 02:55:07,410 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Stopping service [Tomcat]
2022-11-17 02:55:07,426 [restartedMain] INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener logMessage 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-11-17 02:55:07,447 [restartedMain] ERROR org.springframework.boot.SpringApplication reportFailure Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.opinions, br.com.zup.edu.nossalojavirtual.products.Product.photos]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at br.com.zup.edu.nossalojavirtual.NossaLojaVirtualApplication.main(NossaLojaVirtualApplication.java:17)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.opinions, br.com.zup.edu.nossalojavirtual.products.Product.photos]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 19 common frames omitted
Caused by: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.opinions, br.com.zup.edu.nossalojavirtual.products.Product.photos]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadQueryDetails.generate(AbstractLoadQueryDetails.java:193)
	at org.hibernate.loader.plan.exec.internal.EntityLoadQueryDetails.<init>(EntityLoadQueryDetails.java:85)
	at org.hibernate.loader.plan.exec.internal.BatchingLoadQueryDetailsFactory.makeEntityLoadQueryDetails(BatchingLoadQueryDetailsFactory.java:64)
	at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.<init>(AbstractLoadPlanBasedEntityLoader.java:97)
	at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.<init>(AbstractLoadPlanBasedEntityLoader.java:112)
	at org.hibernate.loader.entity.plan.EntityLoader.<init>(EntityLoader.java:117)
	at org.hibernate.loader.entity.plan.EntityLoader.<init>(EntityLoader.java:30)
	at org.hibernate.loader.entity.plan.EntityLoader$Builder.byUniqueKey(EntityLoader.java:82)
	at org.hibernate.loader.entity.plan.EntityLoader$Builder.byPrimaryKey(EntityLoader.java:75)
	at org.hibernate.loader.entity.plan.AbstractBatchingEntityLoaderBuilder.buildNonBatchingLoader(AbstractBatchingEntityLoaderBuilder.java:30)
	at org.hibernate.loader.entity.BatchingEntityLoaderBuilder.buildLoader(BatchingEntityLoaderBuilder.java:61)
	at org.hibernate.persister.entity.AbstractEntityPersister.createEntityLoader(AbstractEntityPersister.java:2689)
	at org.hibernate.persister.entity.AbstractEntityPersister.createEntityLoader(AbstractEntityPersister.java:2711)
	at org.hibernate.persister.entity.AbstractEntityPersister.generateDelayedEntityLoader(AbstractEntityPersister.java:4464)
	at org.hibernate.internal.util.collections.LazyIndexedMap.lockedComputeIfAbsent(LazyIndexedMap.java:77)
	at org.hibernate.internal.util.collections.LazyIndexedMap.computeIfAbsent(LazyIndexedMap.java:63)
	at org.hibernate.persister.entity.EntityLoaderLazyCollection.getOrBuildByLockMode(EntityLoaderLazyCollection.java:34)
	at org.hibernate.persister.entity.AbstractEntityPersister.getLoaderByLockMode(AbstractEntityPersister.java:4455)
	at org.hibernate.persister.entity.AbstractEntityPersister.createLoaders(AbstractEntityPersister.java:4442)
	at org.hibernate.persister.entity.AbstractEntityPersister.postInstantiate(AbstractEntityPersister.java:4416)
	at org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:257)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:319)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 23 common frames omitted
2022-11-17 02:55:18,214 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 02:55:18,220 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 7212 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 02:55:18,221 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 02:55:18,257 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 02:55:18,258 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 02:55:18,887 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 02:55:18,941 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 49 ms. Found 7 JPA repository interfaces.
2022-11-17 02:55:19,130 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 02:55:19,614 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 02:55:19,622 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 02:55:19,622 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 02:55:19,623 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 02:55:19,695 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 02:55:19,696 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1437 ms
2022-11-17 02:55:19,723 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 02:55:19,898 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 02:55:19,908 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 02:55:20,015 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 02:55:20,051 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 02:55:20,179 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 02:55:20,277 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 02:55:20,908 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 02:55:20,915 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:55:21,461 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 02:55:21,937 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@74dc10c9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2288488e, org.springframework.security.web.context.SecurityContextPersistenceFilter@673fd44c, org.springframework.security.web.header.HeaderWriterFilter@2fedf69e, org.springframework.web.filter.CorsFilter@37f1eae7, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@4b3bcae2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8a12283, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@61b38723, org.springframework.security.web.session.SessionManagementFilter@6f197821, org.springframework.security.web.access.ExceptionTranslationFilter@20785e89, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5491130]
2022-11-17 02:55:22,198 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 02:55:22,215 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 02:55:22,368 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 4.675 seconds (JVM running for 5.38)
2022-11-17 02:55:27,188 [http-nio-8080-exec-2] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 02:55:27,189 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 02:55:27,191 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 2 ms
2022-11-17 02:55:34,056 [http-nio-8080-exec-6] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 02:55:34,062 [http-nio-8080-exec-6] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 02:55:40,343 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.soares@zup.com.br registration
2022-11-17 02:55:40,349 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.soares@zup.com.br successfully registered
2022-11-17 02:55:48,617 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create Starting product rodo registration
2022-11-17 02:55:48,637 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/f688bade-5e2a-41c3-b886-412e00558330/2022-11-17T02:55:48.637826500
2022-11-17 02:55:48,638 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/f688bade-5e2a-41c3-b886-412e00558330/2022-11-17T02:55:48.638437200
2022-11-17 02:55:48,680 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create product rodo successfully registered
2022-11-17 02:56:03,751 [http-nio-8080-exec-7] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create Starting product opinion muito bom registration
2022-11-17 02:56:03,772 [http-nio-8080-exec-7] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create product opinion muito bom successfully registered
2022-11-17 02:56:21,737 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get Get product f688bade-5e2a-41c3-b886-412e00558330 details
2022-11-17 02:56:21,742 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get Search of product details f688bade-5e2a-41c3-b886-412e00558330 successful
2022-11-17 02:56:21,754 [http-nio-8080-exec-3] ERROR org.apache.juli.logging.DirectJDKLog log Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: br.com.zup.edu.nossalojavirtual.users.User.products, could not initialize proxy - no Session] with root cause
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: br.com.zup.edu.nossalojavirtual.users.User.products, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:162)
	at org.hibernate.collection.internal.PersistentSet.size(PersistentSet.java:168)
	at java.base/java.util.HashSet.<init>(HashSet.java:120)
	at br.com.zup.edu.nossalojavirtual.products.Product.sellerOtherProducts(Product.java:161)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsResponse.<init>(ProductDetailsResponse.java:56)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsController.get(ProductDetailsController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:142)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-17 02:57:25,584 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:57:25,585 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 02:57:25,809 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 02:57:25,809 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 02:57:25,812 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 02:57:30,632 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 02:57:30,640 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 13768 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 02:57:30,641 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 02:57:30,684 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 02:57:30,685 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 02:57:31,422 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 02:57:31,488 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 60 ms. Found 7 JPA repository interfaces.
2022-11-17 02:57:31,689 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 02:57:32,225 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 02:57:32,234 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 02:57:32,234 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 02:57:32,234 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 02:57:32,318 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 02:57:32,319 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1634 ms
2022-11-17 02:57:32,344 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 02:57:32,610 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 02:57:32,622 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 02:57:32,733 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 02:57:32,776 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 02:57:32,924 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 02:57:33,042 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 02:57:33,758 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 02:57:33,766 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:57:34,349 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 02:57:34,873 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2affa5ad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66ccf182, org.springframework.security.web.context.SecurityContextPersistenceFilter@47ee719, org.springframework.security.web.header.HeaderWriterFilter@69ff64f6, org.springframework.web.filter.CorsFilter@1a80596d, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@74910422, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e68f393, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@608f2a87, org.springframework.security.web.session.SessionManagementFilter@5e37e932, org.springframework.security.web.access.ExceptionTranslationFilter@2d9a2d94, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6492463]
2022-11-17 02:57:35,147 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 02:57:35,166 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 02:57:35,316 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.234 seconds (JVM running for 6.14)
2022-11-17 02:57:40,627 [http-nio-8080-exec-1] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 02:57:40,627 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 02:57:40,628 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 0 ms
2022-11-17 02:57:40,968 [http-nio-8080-exec-1] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 02:57:40,977 [http-nio-8080-exec-1] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 02:57:43,299 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.soares@zup.com.br registration
2022-11-17 02:57:43,304 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.soares@zup.com.br successfully registered
2022-11-17 02:57:45,471 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create Starting product rodo registration
2022-11-17 02:57:45,502 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/c39ea79b-e7af-4ec0-ad84-457a0d91dcb6/2022-11-17T02:57:45.502685800
2022-11-17 02:57:45,502 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/c39ea79b-e7af-4ec0-ad84-457a0d91dcb6/2022-11-17T02:57:45.502685800
2022-11-17 02:57:45,555 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create product rodo successfully registered
2022-11-17 02:57:47,672 [http-nio-8080-exec-5] WARN br.com.zup.edu.nossalojavirtual.util.HandlerException methodArgumentNotValid [productId: Category productId is not registered]
2022-11-17 02:57:47,690 [http-nio-8080-exec-5] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.products.ProductOpinionController.create(br.com.zup.edu.nossalojavirtual.products.NewOpinionRequest,org.springframework.security.oauth2.jwt.Jwt): [Field error in object 'newOpinionRequest' on field 'productId': rejected value [f688bade-5e2a-41c3-b886-412e00558330]; codes [product.id.dontExist.newOpinionRequest.productId,product.id.dontExist.productId,product.id.dontExist.java.util.UUID,product.id.dontExist]; arguments []; default message [Category productId is not registered]] ]
2022-11-17 02:58:04,156 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create Starting product opinion muito bom registration
2022-11-17 02:58:04,181 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create product opinion muito bom successfully registered
2022-11-17 02:58:10,547 [http-nio-8080-exec-6] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get Get product c39ea79b-e7af-4ec0-ad84-457a0d91dcb6 details
2022-11-17 02:58:10,553 [http-nio-8080-exec-6] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get Search of product details c39ea79b-e7af-4ec0-ad84-457a0d91dcb6 successful
2022-11-17 02:58:10,570 [http-nio-8080-exec-6] ERROR org.apache.juli.logging.DirectJDKLog log Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: br.com.zup.edu.nossalojavirtual.products.Product.opinions, could not initialize proxy - no Session] with root cause
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: br.com.zup.edu.nossalojavirtual.products.Product.opinions, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591)
	at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)
	at org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:387)
	at java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1865)
	at java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:414)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:508)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at br.com.zup.edu.nossalojavirtual.products.Product.rating(Product.java:173)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsResponse.<init>(ProductDetailsResponse.java:57)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsController.get(ProductDetailsController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:142)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-17 02:58:57,275 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:58:57,276 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 02:58:57,505 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 02:58:57,505 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 02:58:57,507 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 02:59:03,431 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 02:59:03,440 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 17664 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 02:59:03,441 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 02:59:03,488 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 02:59:03,488 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 02:59:04,197 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 02:59:04,264 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 60 ms. Found 7 JPA repository interfaces.
2022-11-17 02:59:04,474 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 02:59:04,992 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 02:59:05,000 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 02:59:05,000 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 02:59:05,000 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 02:59:05,079 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 02:59:05,079 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1590 ms
2022-11-17 02:59:05,106 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 02:59:05,327 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 02:59:05,336 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 02:59:05,447 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 02:59:05,487 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 02:59:05,628 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 02:59:05,731 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 02:59:06,428 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 02:59:06,435 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:59:07,018 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 02:59:07,559 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@602ed484, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f08fd3d, org.springframework.security.web.context.SecurityContextPersistenceFilter@62ccdd61, org.springframework.security.web.header.HeaderWriterFilter@1699fb3b, org.springframework.web.filter.CorsFilter@14bd7c9, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@79befe73, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b73673e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@568717a3, org.springframework.security.web.session.SessionManagementFilter@55e749b2, org.springframework.security.web.access.ExceptionTranslationFilter@45cf579, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@76c7096a]
2022-11-17 02:59:07,830 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 02:59:07,856 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 02:59:08,007 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.122 seconds (JVM running for 6.032)
2022-11-17 02:59:18,233 [http-nio-8080-exec-2] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 02:59:18,234 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 02:59:18,235 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 02:59:18,546 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 02:59:18,554 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 02:59:21,027 [http-nio-8080-exec-10] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.soares@zup.com.br registration
2022-11-17 02:59:21,033 [http-nio-8080-exec-10] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.soares@zup.com.br successfully registered
2022-11-17 02:59:25,440 [http-nio-8080-exec-9] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create Starting product rodo registration
2022-11-17 02:59:25,469 [http-nio-8080-exec-9] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/8e7ea0f6-cb1e-40cc-888e-d57755a456d6/2022-11-17T02:59:25.469526400
2022-11-17 02:59:25,470 [http-nio-8080-exec-9] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/8e7ea0f6-cb1e-40cc-888e-d57755a456d6/2022-11-17T02:59:25.469526400
2022-11-17 02:59:25,527 [http-nio-8080-exec-9] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create product rodo successfully registered
2022-11-17 02:59:36,388 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create Starting product opinion muito bom registration
2022-11-17 02:59:36,415 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create product opinion muito bom successfully registered
2022-11-17 02:59:41,298 [http-nio-8080-exec-7] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get Get product 8e7ea0f6-cb1e-40cc-888e-d57755a456d6 details
2022-11-17 02:59:41,304 [http-nio-8080-exec-7] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get Search of product details 8e7ea0f6-cb1e-40cc-888e-d57755a456d6 successful
2022-11-17 02:59:41,320 [http-nio-8080-exec-7] ERROR org.apache.juli.logging.DirectJDKLog log Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: br.com.zup.edu.nossalojavirtual.products.Product.questions, could not initialize proxy - no Session] with root cause
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: br.com.zup.edu.nossalojavirtual.products.Product.questions, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591)
	at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)
	at org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:387)
	at java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1865)
	at java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:414)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:508)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsResponse.sortQuestionByNewest(ProductDetailsResponse.java:74)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsResponse.<init>(ProductDetailsResponse.java:60)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsController.get(ProductDetailsController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:142)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-17 02:59:59,301 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 02:59:59,303 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 02:59:59,531 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 02:59:59,531 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 02:59:59,533 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 03:00:06,061 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 03:00:06,070 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 18372 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 03:00:06,071 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 03:00:06,116 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 03:00:06,116 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 03:00:06,870 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 03:00:06,937 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 60 ms. Found 7 JPA repository interfaces.
2022-11-17 03:00:07,154 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 03:00:07,678 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 03:00:07,687 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 03:00:07,687 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 03:00:07,687 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 03:00:07,768 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 03:00:07,768 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1651 ms
2022-11-17 03:00:07,792 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 03:00:07,991 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 03:00:08,000 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 03:00:08,123 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 03:00:08,166 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 03:00:08,308 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 03:00:08,415 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 03:00:09,057 [restartedMain] ERROR org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.questions, br.com.zup.edu.nossalojavirtual.products.Product.photos]
2022-11-17 03:00:09,058 [restartedMain] WARN org.springframework.context.support.AbstractApplicationContext refresh Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.questions, br.com.zup.edu.nossalojavirtual.products.Product.photos]
2022-11-17 03:00:09,280 [restartedMain] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 03:00:09,282 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 03:00:09,286 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 03:00:09,289 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Stopping service [Tomcat]
2022-11-17 03:00:09,307 [restartedMain] INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener logMessage 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-11-17 03:00:09,330 [restartedMain] ERROR org.springframework.boot.SpringApplication reportFailure Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.questions, br.com.zup.edu.nossalojavirtual.products.Product.photos]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at br.com.zup.edu.nossalojavirtual.NossaLojaVirtualApplication.main(NossaLojaVirtualApplication.java:17)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.questions, br.com.zup.edu.nossalojavirtual.products.Product.photos]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 19 common frames omitted
Caused by: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.questions, br.com.zup.edu.nossalojavirtual.products.Product.photos]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadQueryDetails.generate(AbstractLoadQueryDetails.java:193)
	at org.hibernate.loader.plan.exec.internal.EntityLoadQueryDetails.<init>(EntityLoadQueryDetails.java:85)
	at org.hibernate.loader.plan.exec.internal.BatchingLoadQueryDetailsFactory.makeEntityLoadQueryDetails(BatchingLoadQueryDetailsFactory.java:64)
	at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.<init>(AbstractLoadPlanBasedEntityLoader.java:97)
	at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.<init>(AbstractLoadPlanBasedEntityLoader.java:112)
	at org.hibernate.loader.entity.plan.EntityLoader.<init>(EntityLoader.java:117)
	at org.hibernate.loader.entity.plan.EntityLoader.<init>(EntityLoader.java:30)
	at org.hibernate.loader.entity.plan.EntityLoader$Builder.byUniqueKey(EntityLoader.java:82)
	at org.hibernate.loader.entity.plan.EntityLoader$Builder.byPrimaryKey(EntityLoader.java:75)
	at org.hibernate.loader.entity.plan.AbstractBatchingEntityLoaderBuilder.buildNonBatchingLoader(AbstractBatchingEntityLoaderBuilder.java:30)
	at org.hibernate.loader.entity.BatchingEntityLoaderBuilder.buildLoader(BatchingEntityLoaderBuilder.java:61)
	at org.hibernate.persister.entity.AbstractEntityPersister.createEntityLoader(AbstractEntityPersister.java:2689)
	at org.hibernate.persister.entity.AbstractEntityPersister.createEntityLoader(AbstractEntityPersister.java:2711)
	at org.hibernate.persister.entity.AbstractEntityPersister.generateDelayedEntityLoader(AbstractEntityPersister.java:4464)
	at org.hibernate.internal.util.collections.LazyIndexedMap.lockedComputeIfAbsent(LazyIndexedMap.java:77)
	at org.hibernate.internal.util.collections.LazyIndexedMap.computeIfAbsent(LazyIndexedMap.java:63)
	at org.hibernate.persister.entity.EntityLoaderLazyCollection.getOrBuildByLockMode(EntityLoaderLazyCollection.java:34)
	at org.hibernate.persister.entity.AbstractEntityPersister.getLoaderByLockMode(AbstractEntityPersister.java:4455)
	at org.hibernate.persister.entity.AbstractEntityPersister.createLoaders(AbstractEntityPersister.java:4442)
	at org.hibernate.persister.entity.AbstractEntityPersister.postInstantiate(AbstractEntityPersister.java:4416)
	at org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:257)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:319)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 23 common frames omitted
2022-11-17 03:00:37,332 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 03:00:37,343 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 16112 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 03:00:37,343 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 03:00:37,389 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 03:00:37,390 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 03:00:38,131 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 03:00:38,195 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 56 ms. Found 7 JPA repository interfaces.
2022-11-17 03:00:38,400 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 03:00:38,939 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 03:00:38,947 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 03:00:38,947 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 03:00:38,947 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 03:00:39,026 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 03:00:39,027 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1636 ms
2022-11-17 03:00:39,051 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 03:00:39,250 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 03:00:39,258 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 03:00:39,372 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 03:00:39,415 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 03:00:39,563 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 03:00:39,670 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 03:00:40,366 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 03:00:40,376 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 03:00:40,962 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 03:00:41,485 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4b439b18, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@602ed484, org.springframework.security.web.context.SecurityContextPersistenceFilter@483cdb1b, org.springframework.security.web.header.HeaderWriterFilter@2f8dfc6, org.springframework.web.filter.CorsFilter@f08fd3d, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@102fecd0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b285532, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14bd7c9, org.springframework.security.web.session.SessionManagementFilter@36738538, org.springframework.security.web.access.ExceptionTranslationFilter@4cfd96f6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5b7d6cb2]
2022-11-17 03:00:41,759 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 03:00:41,777 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 03:00:41,934 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.138 seconds (JVM running for 6.02)
2022-11-17 03:00:51,091 [http-nio-8080-exec-1] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 03:00:51,092 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 03:00:51,093 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 03:00:51,409 [http-nio-8080-exec-1] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 03:00:51,415 [http-nio-8080-exec-1] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 03:00:53,701 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.soares@zup.com.br registration
2022-11-17 03:00:53,706 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.soares@zup.com.br successfully registered
2022-11-17 03:00:55,737 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create Starting product rodo registration
2022-11-17 03:00:55,768 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/262920a0-fd14-4b92-8119-63597fa1d968/2022-11-17T03:00:55.768636
2022-11-17 03:00:55,769 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/262920a0-fd14-4b92-8119-63597fa1d968/2022-11-17T03:00:55.768636
2022-11-17 03:00:55,817 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create product rodo successfully registered
2022-11-17 03:00:57,739 [http-nio-8080-exec-5] WARN br.com.zup.edu.nossalojavirtual.util.HandlerException methodArgumentNotValid [productId: Category productId is not registered]
2022-11-17 03:00:57,757 [http-nio-8080-exec-5] WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in org.springframework.http.ResponseEntity<?> br.com.zup.edu.nossalojavirtual.products.ProductOpinionController.create(br.com.zup.edu.nossalojavirtual.products.NewOpinionRequest,org.springframework.security.oauth2.jwt.Jwt): [Field error in object 'newOpinionRequest' on field 'productId': rejected value [8e7ea0f6-cb1e-40cc-888e-d57755a456d6]; codes [product.id.dontExist.newOpinionRequest.productId,product.id.dontExist.productId,product.id.dontExist.java.util.UUID,product.id.dontExist]; arguments []; default message [Category productId is not registered]] ]
2022-11-17 03:01:11,027 [http-nio-8080-exec-7] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create Starting product opinion muito bom registration
2022-11-17 03:01:11,053 [http-nio-8080-exec-7] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create product opinion muito bom successfully registered
2022-11-17 03:01:15,499 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get Get product 262920a0-fd14-4b92-8119-63597fa1d968 details
2022-11-17 03:01:15,505 [http-nio-8080-exec-8] INFO br.com.zup.edu.nossalojavirtual.products.ProductDetailsController get Search of product details 262920a0-fd14-4b92-8119-63597fa1d968 successful
2022-11-17 03:01:15,522 [http-nio-8080-exec-8] ERROR org.apache.juli.logging.DirectJDKLog log Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: br.com.zup.edu.nossalojavirtual.products.Product.questions, could not initialize proxy - no Session] with root cause
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: br.com.zup.edu.nossalojavirtual.products.Product.questions, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591)
	at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)
	at org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:387)
	at java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1865)
	at java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:414)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:508)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsResponse.sortQuestionByNewest(ProductDetailsResponse.java:74)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsResponse.<init>(ProductDetailsResponse.java:60)
	at br.com.zup.edu.nossalojavirtual.products.ProductDetailsController.get(ProductDetailsController.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:142)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-17 03:02:44,627 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 03:02:44,628 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 03:02:44,853 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 03:02:44,854 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 03:02:44,857 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 03:02:50,423 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 03:02:50,436 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 20200 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 03:02:50,437 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 03:02:50,489 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 03:02:50,490 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 03:02:51,212 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 03:02:51,274 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 55 ms. Found 7 JPA repository interfaces.
2022-11-17 03:02:51,480 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 03:02:52,012 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 03:02:52,022 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 03:02:52,022 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 03:02:52,022 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 03:02:52,098 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 03:02:52,098 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1608 ms
2022-11-17 03:02:52,122 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 03:02:52,314 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 03:02:52,324 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 03:02:52,442 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 03:02:52,483 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 03:02:52,626 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 03:02:52,732 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 03:02:53,331 [restartedMain] ERROR org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.photos, br.com.zup.edu.nossalojavirtual.products.Product.questions]
2022-11-17 03:02:53,332 [restartedMain] WARN org.springframework.context.support.AbstractApplicationContext refresh Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.photos, br.com.zup.edu.nossalojavirtual.products.Product.questions]
2022-11-17 03:02:53,552 [restartedMain] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 03:02:53,552 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 03:02:53,554 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 03:02:53,556 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Stopping service [Tomcat]
2022-11-17 03:02:53,569 [restartedMain] INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener logMessage 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-11-17 03:02:53,590 [restartedMain] ERROR org.springframework.boot.SpringApplication reportFailure Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.photos, br.com.zup.edu.nossalojavirtual.products.Product.questions]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at br.com.zup.edu.nossalojavirtual.NossaLojaVirtualApplication.main(NossaLojaVirtualApplication.java:17)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.photos, br.com.zup.edu.nossalojavirtual.products.Product.questions]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 19 common frames omitted
Caused by: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [br.com.zup.edu.nossalojavirtual.products.Product.photos, br.com.zup.edu.nossalojavirtual.products.Product.questions]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadQueryDetails.generate(AbstractLoadQueryDetails.java:193)
	at org.hibernate.loader.plan.exec.internal.EntityLoadQueryDetails.<init>(EntityLoadQueryDetails.java:85)
	at org.hibernate.loader.plan.exec.internal.BatchingLoadQueryDetailsFactory.makeEntityLoadQueryDetails(BatchingLoadQueryDetailsFactory.java:64)
	at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.<init>(AbstractLoadPlanBasedEntityLoader.java:97)
	at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.<init>(AbstractLoadPlanBasedEntityLoader.java:112)
	at org.hibernate.loader.entity.plan.EntityLoader.<init>(EntityLoader.java:117)
	at org.hibernate.loader.entity.plan.EntityLoader.<init>(EntityLoader.java:30)
	at org.hibernate.loader.entity.plan.EntityLoader$Builder.byUniqueKey(EntityLoader.java:82)
	at org.hibernate.loader.entity.plan.EntityLoader$Builder.byPrimaryKey(EntityLoader.java:75)
	at org.hibernate.loader.entity.plan.AbstractBatchingEntityLoaderBuilder.buildNonBatchingLoader(AbstractBatchingEntityLoaderBuilder.java:30)
	at org.hibernate.loader.entity.BatchingEntityLoaderBuilder.buildLoader(BatchingEntityLoaderBuilder.java:61)
	at org.hibernate.persister.entity.AbstractEntityPersister.createEntityLoader(AbstractEntityPersister.java:2689)
	at org.hibernate.persister.entity.AbstractEntityPersister.createEntityLoader(AbstractEntityPersister.java:2711)
	at org.hibernate.persister.entity.AbstractEntityPersister.generateDelayedEntityLoader(AbstractEntityPersister.java:4464)
	at org.hibernate.internal.util.collections.LazyIndexedMap.lockedComputeIfAbsent(LazyIndexedMap.java:77)
	at org.hibernate.internal.util.collections.LazyIndexedMap.computeIfAbsent(LazyIndexedMap.java:63)
	at org.hibernate.persister.entity.EntityLoaderLazyCollection.getOrBuildByLockMode(EntityLoaderLazyCollection.java:34)
	at org.hibernate.persister.entity.AbstractEntityPersister.getLoaderByLockMode(AbstractEntityPersister.java:4455)
	at org.hibernate.persister.entity.AbstractEntityPersister.createLoaders(AbstractEntityPersister.java:4442)
	at org.hibernate.persister.entity.AbstractEntityPersister.postInstantiate(AbstractEntityPersister.java:4416)
	at org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:257)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:319)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 23 common frames omitted
2022-11-17 03:04:13,201 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 03:04:13,211 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 8204 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 03:04:13,212 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 03:04:13,257 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 03:04:13,257 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 03:04:13,982 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 03:04:14,045 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 57 ms. Found 7 JPA repository interfaces.
2022-11-17 03:04:14,250 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 03:04:14,771 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 03:04:14,778 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 03:04:14,779 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 03:04:14,779 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 03:04:14,858 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 03:04:14,858 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1600 ms
2022-11-17 03:04:14,887 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 03:04:15,089 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 03:04:15,097 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 03:04:15,203 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 03:04:15,245 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 03:04:15,392 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 03:04:15,495 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 03:04:16,195 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 03:04:16,203 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 03:04:16,776 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 03:04:17,307 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3f5eeceb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@195806e1, org.springframework.security.web.context.SecurityContextPersistenceFilter@76275ba3, org.springframework.security.web.header.HeaderWriterFilter@55c2057d, org.springframework.web.filter.CorsFilter@46c55ebf, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@348d69fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@65c7ec3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a37a630, org.springframework.security.web.session.SessionManagementFilter@3731be38, org.springframework.security.web.access.ExceptionTranslationFilter@56cb5202, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@78af86d0]
2022-11-17 03:04:17,572 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 03:04:17,591 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 03:04:17,748 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.082 seconds (JVM running for 6.009)
2022-11-17 03:17:21,020 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 03:17:21,022 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 03:17:21,240 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 03:17:21,241 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 03:17:21,243 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 03:17:27,808 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 03:17:27,816 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 20416 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 03:17:27,817 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 03:17:27,865 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 03:17:27,865 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 03:17:28,599 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 03:17:28,661 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 55 ms. Found 7 JPA repository interfaces.
2022-11-17 03:17:28,860 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 03:17:29,384 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 03:17:29,393 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 03:17:29,394 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 03:17:29,394 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 03:17:29,476 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 03:17:29,476 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1610 ms
2022-11-17 03:17:29,502 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 03:17:29,699 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 03:17:29,708 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 03:17:29,825 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 03:17:29,865 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 03:17:30,004 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 03:17:30,117 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 03:17:30,813 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 03:17:30,820 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 03:17:31,400 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 03:17:31,939 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4676842d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@250a7c89, org.springframework.security.web.context.SecurityContextPersistenceFilter@2d9a2d94, org.springframework.security.web.header.HeaderWriterFilter@656cf346, org.springframework.web.filter.CorsFilter@235dc33c, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@16820a6e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@587481e8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@702c7b0a, org.springframework.security.web.session.SessionManagementFilter@1946a005, org.springframework.security.web.access.ExceptionTranslationFilter@2826b1c3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@422a2be6]
2022-11-17 03:17:32,245 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 03:17:32,269 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 03:17:32,437 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.266 seconds (JVM running for 6.222)
2022-11-17 03:18:34,966 [http-nio-8080-exec-2] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 03:18:34,966 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 03:18:34,967 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 0 ms
2022-11-17 03:18:41,942 [http-nio-8080-exec-6] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 03:18:41,948 [http-nio-8080-exec-6] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 03:18:48,163 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.soares@zup.com.br registration
2022-11-17 03:18:48,168 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.soares@zup.com.br successfully registered
2022-11-17 03:18:56,798 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create Starting product rodo registration
2022-11-17 03:18:56,822 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/e2884241-0149-431f-b7e0-db9f2992544f/2022-11-17T03:18:56.822085900
2022-11-17 03:18:56,822 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/e2884241-0149-431f-b7e0-db9f2992544f/2022-11-17T03:18:56.822085900
2022-11-17 03:18:56,870 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create product rodo successfully registered
2022-11-17 03:19:18,430 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create Starting product opinion muito bom registration
2022-11-17 03:19:18,454 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create product opinion muito bom successfully registered
2022-11-17 03:19:41,026 [http-nio-8080-exec-7] INFO br.com.zup.edu.nossalojavirtual.shared.email.LocalEmailService send [PRODUCT] [QUESTION] Sending email to danyllo.soares@zup.com.br, from: danyllo.soares@zup.com.br, subject:  You have a new question, body: Qual tamanho do rodo? in http://localhost:8080/api/products/e2884241-0149-431f-b7e0-db9f2992544f
2022-11-17 03:30:55,527 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 03:30:55,527 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 03:30:55,751 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 03:30:55,751 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 03:30:55,753 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 03:31:02,726 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 03:31:02,736 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 13496 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 03:31:02,736 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 03:31:02,785 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 03:31:02,786 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 03:31:03,514 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 03:31:03,578 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 56 ms. Found 7 JPA repository interfaces.
2022-11-17 03:31:03,783 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=3b6a1ce7-fbd9-35b6-b8e8-e591bad90410
2022-11-17 03:31:04,311 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 03:31:04,319 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 03:31:04,320 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 03:31:04,320 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 03:31:04,400 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 03:31:04,400 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1614 ms
2022-11-17 03:31:04,426 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 03:31:04,624 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 03:31:04,634 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 03:31:04,745 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 03:31:04,787 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 03:31:04,932 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 03:31:05,048 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 03:31:05,736 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 03:31:05,743 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 03:31:06,367 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 03:31:06,887 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1716941b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46879c98, org.springframework.security.web.context.SecurityContextPersistenceFilter@746a62cc, org.springframework.security.web.header.HeaderWriterFilter@5c4e10f3, org.springframework.web.filter.CorsFilter@18267cae, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@5e800fe1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1dec1ec0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@197c0e97, org.springframework.security.web.session.SessionManagementFilter@7e63cdc6, org.springframework.security.web.access.ExceptionTranslationFilter@36f03e8b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a2fbeb0]
2022-11-17 03:31:07,164 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 03:31:07,181 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 03:31:07,334 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.161 seconds (JVM running for 6.016)
2022-11-17 03:31:44,506 [http-nio-8080-exec-1] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 03:31:44,506 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 03:31:44,508 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 1 ms
2022-11-17 03:31:49,918 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory Starting category limpeza registration
2022-11-17 03:31:49,925 [http-nio-8080-exec-2] INFO br.com.zup.edu.nossalojavirtual.categories.CategoryController createCategory category limpeza successfully registered
2022-11-17 03:31:56,130 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser Starting user danyllo.soares@zup.com.br registration
2022-11-17 03:31:56,134 [http-nio-8080-exec-5] INFO br.com.zup.edu.nossalojavirtual.users.UserController createUser user danyllo.soares@zup.com.br successfully registered
2022-11-17 03:32:02,914 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create Starting product rodo registration
2022-11-17 03:32:02,945 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/566a8bc8-5c2d-49b5-9bc7-b080894bb106/2022-11-17T03:32:02.945331900
2022-11-17 03:32:02,945 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.LocalPhotoUploader storagePhoto [PRODUCT] [PHOTO] Uploaded product photo to: https://s3.nosso-mercado-livre.amazon/products/3/566a8bc8-5c2d-49b5-9bc7-b080894bb106/2022-11-17T03:32:02.945331900
2022-11-17 03:32:02,994 [http-nio-8080-exec-4] INFO br.com.zup.edu.nossalojavirtual.products.ProductController create product rodo successfully registered
2022-11-17 03:32:23,138 [http-nio-8080-exec-6] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create Starting product opinion muito bom registration
2022-11-17 03:32:23,169 [http-nio-8080-exec-6] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create product opinion muito bom successfully registered
2022-11-17 03:32:29,780 [http-nio-8080-exec-7] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create Starting product opinion muito bom registration
2022-11-17 03:32:29,799 [http-nio-8080-exec-7] INFO br.com.zup.edu.nossalojavirtual.products.ProductOpinionController create product opinion muito bom successfully registered
2022-11-17 03:32:50,985 [http-nio-8080-exec-9] INFO br.com.zup.edu.nossalojavirtual.products.QuestionController askQuestion Starting registration of question Qual tamanho do rodo? about product 566a8bc8-5c2d-49b5-9bc7-b080894bb106
2022-11-17 03:32:51,002 [http-nio-8080-exec-9] INFO br.com.zup.edu.nossalojavirtual.products.QuestionController askQuestion question Qual tamanho do rodo? successfully registered
2022-11-17 03:32:51,007 [http-nio-8080-exec-9] INFO br.com.zup.edu.nossalojavirtual.shared.email.LocalEmailService send [PRODUCT] [QUESTION] Sending email to danyllo.soares@zup.com.br, from: danyllo.soares@zup.com.br, subject:  You have a new question, body: Qual tamanho do rodo? in http://localhost:8080/api/products/566a8bc8-5c2d-49b5-9bc7-b080894bb106
2022-11-17 03:33:43,412 [http-nio-8080-exec-10] INFO br.com.zup.edu.nossalojavirtual.products.QuestionController askQuestion Starting registration of question Qual tamanho do rodo? about product 566a8bc8-5c2d-49b5-9bc7-b080894bb106
2022-11-17 03:33:43,423 [http-nio-8080-exec-10] INFO br.com.zup.edu.nossalojavirtual.products.QuestionController askQuestion question Qual tamanho do rodo? successfully registered
2022-11-17 03:33:43,424 [http-nio-8080-exec-10] INFO br.com.zup.edu.nossalojavirtual.shared.email.LocalEmailService send [PRODUCT] [QUESTION] Sending email to danyllo.soares@zup.com.br, from: danyllo.soares@zup.com.br, subject:  You have a new question, body: Qual tamanho do rodo? in http://localhost:8080/api/products/566a8bc8-5c2d-49b5-9bc7-b080894bb106
2022-11-17 03:34:18,909 [http-nio-8080-exec-3] INFO br.com.zup.edu.nossalojavirtual.products.QuestionController askQuestion Starting registration of question Qual tamanho do rodo? about product 566a8bc8-5c2d-49b5-9bc7-b080894bb108
2022-11-17 03:34:18,916 [http-nio-8080-exec-3] WARN br.com.zup.edu.nossalojavirtual.products.QuestionController askQuestion product 566a8bc8-5c2d-49b5-9bc7-b080894bb108 not registered
2022-11-17 03:47:59,366 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 03:47:59,368 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 03:47:59,620 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 03:47:59,621 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 03:47:59,622 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 03:48:11,715 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 03:48:11,726 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 6968 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 03:48:11,727 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 03:48:11,769 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 03:48:11,769 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 03:48:12,763 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 03:48:12,820 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 50 ms. Found 7 JPA repository interfaces.
2022-11-17 03:48:13,017 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=c359b677-bb46-39b8-b1d2-ab1d9c6036c4
2022-11-17 03:48:13,558 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 03:48:13,567 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 03:48:13,567 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 03:48:13,568 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 03:48:13,663 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 03:48:13,664 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1894 ms
2022-11-17 03:48:13,845 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 03:48:14,058 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 03:48:14,067 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 03:48:14,333 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 03:48:14,388 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 03:48:14,538 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 03:48:14,656 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 03:48:15,364 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 03:48:15,371 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 03:48:15,978 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 03:48:16,856 [restartedMain] INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver <init> Exposing 1 endpoint(s) beneath base path '/actuator'
2022-11-17 03:48:16,899 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5ba84e53, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2356800, org.springframework.security.web.context.SecurityContextPersistenceFilter@3f411975, org.springframework.security.web.header.HeaderWriterFilter@387d97b, org.springframework.web.filter.CorsFilter@21d0300a, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@23b00ed2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58816090, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6868a8df, org.springframework.security.web.session.SessionManagementFilter@46bc6c75, org.springframework.security.web.access.ExceptionTranslationFilter@e690b8b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b8f8b6]
2022-11-17 03:48:17,192 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 03:48:17,211 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 03:48:17,386 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 6.227 seconds (JVM running for 7.043)
2022-11-17 03:48:17,608 [RMI TCP Connection(3)-192.168.3.11] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 03:48:17,608 [RMI TCP Connection(3)-192.168.3.11] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 03:48:17,612 [RMI TCP Connection(3)-192.168.3.11] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 3 ms
2022-11-17 04:08:33,439 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 04:08:33,440 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 04:08:33,675 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 04:08:33,676 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 04:08:33,680 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 04:08:39,740 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 04:08:39,744 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 20316 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 04:08:39,744 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 04:08:39,784 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 04:08:39,784 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 04:08:40,685 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 04:08:40,749 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 56 ms. Found 7 JPA repository interfaces.
2022-11-17 04:08:40,939 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=ae43caae-27d9-3b15-9b3b-ff92ea69a1ed
2022-11-17 04:08:41,542 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 04:08:41,555 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 04:08:41,555 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 04:08:41,555 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 04:08:41,648 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 04:08:41,649 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 1864 ms
2022-11-17 04:08:41,798 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 04:08:41,978 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 04:08:41,987 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 04:08:42,151 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 04:08:42,218 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 04:08:42,365 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 04:08:42,471 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 04:08:43,177 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 04:08:43,185 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 04:08:43,748 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 04:08:44,383 [restartedMain] INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver <init> Exposing 3 endpoint(s) beneath base path '/actuator'
2022-11-17 04:08:44,421 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@23b00ed2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@699fd02, org.springframework.security.web.context.SecurityContextPersistenceFilter@6f03157c, org.springframework.security.web.header.HeaderWriterFilter@6b58ebdd, org.springframework.web.filter.CorsFilter@5ba84e53, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@4852b7dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76cea0b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2356800, org.springframework.security.web.session.SessionManagementFilter@1a1b3888, org.springframework.security.web.access.ExceptionTranslationFilter@3233e0ff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1222e014]
2022-11-17 04:08:44,683 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 04:08:44,701 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 04:08:44,869 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 5.682 seconds (JVM running for 6.535)
2022-11-17 04:08:45,317 [RMI TCP Connection(1)-192.168.3.11] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 04:08:45,318 [RMI TCP Connection(1)-192.168.3.11] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
2022-11-17 04:08:45,321 [RMI TCP Connection(1)-192.168.3.11] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Completed initialization in 2 ms
2022-11-17 05:06:09,889 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean destroy Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 05:06:09,898 [SpringApplicationShutdownHook] INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl perform HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2022-11-17 05:06:10,135 [SpringApplicationShutdownHook] WARN org.springframework.beans.factory.support.DisposableBeanAdapter destroy Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2022-11-17 05:06:10,137 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown initiated...
2022-11-17 05:06:10,141 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource close HikariPool-1 - Shutdown completed.
2022-11-17 06:33:45,321 [background-preinit] INFO org.hibernate.validator.internal.util.Version <clinit> HV000001: Hibernate Validator 6.2.4.Final
2022-11-17 06:33:45,328 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarting Starting NossaLojaVirtualApplication using Java 18.0.2 on ZUP-5180 with PID 19416 (C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual\target\classes started by danyllo.soares in C:\Users\danyllo.soares\Desktop\CursosBootcamp\API-DE-AVALIACAO-LOJA-VIRTUAL\nossa-loja-virtual)
2022-11-17 06:33:45,328 [restartedMain] INFO org.springframework.boot.SpringApplication logStartupProfileInfo No active profile set, falling back to 1 default profile: "default"
2022-11-17 06:33:45,383 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-17 06:33:45,383 [restartedMain] INFO org.springframework.boot.logging.DeferredLog logTo For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-17 06:33:46,519 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-17 06:33:46,601 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate registerRepositoriesIn Finished Spring Data repository scanning in 73 ms. Found 7 JPA repository interfaces.
2022-11-17 06:33:46,815 [restartedMain] INFO org.springframework.cloud.context.scope.GenericScope setSerializationId BeanFactory id=ae43caae-27d9-3b15-9b3b-ff92ea69a1ed
2022-11-17 06:33:47,571 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer initialize Tomcat initialized with port(s): 8080 (http)
2022-11-17 06:33:47,581 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing ProtocolHandler ["http-nio-8080"]
2022-11-17 06:33:47,582 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting service [Tomcat]
2022-11-17 06:33:47,582 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-17 06:33:47,681 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring embedded WebApplicationContext
2022-11-17 06:33:47,682 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext prepareWebApplicationContext Root WebApplicationContext: initialization completed in 2297 ms
2022-11-17 06:33:47,820 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Starting...
2022-11-17 06:33:48,090 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource getConnection HikariPool-1 - Start completed.
2022-11-17 06:33:48,099 [restartedMain] INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration logDataSources H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:devdb'
2022-11-17 06:33:48,445 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-17 06:33:48,563 [restartedMain] INFO org.hibernate.Version logVersion HHH000412: Hibernate ORM core version 5.6.10.Final
2022-11-17 06:33:48,781 [restartedMain] INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager <clinit> HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-17 06:33:48,925 [restartedMain] INFO org.hibernate.dialect.Dialect <init> HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-11-17 06:33:49,778 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-17 06:33:49,792 [restartedMain] INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean buildNativeEntityManagerFactory Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-17 06:33:50,605 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer startServer LiveReload server is running on port 35729
2022-11-17 06:33:51,382 [restartedMain] INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver <init> Exposing 3 endpoint(s) beneath base path '/actuator'
2022-11-17 06:33:51,422 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain <init> Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@efc9b73, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d648af0, org.springframework.security.web.context.SecurityContextPersistenceFilter@7d5441c1, org.springframework.security.web.header.HeaderWriterFilter@b356513, org.springframework.web.filter.CorsFilter@1e733438, org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter@799b55f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@dc2ff29, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38d84081, org.springframework.security.web.session.SessionManagementFilter@61441e4a, org.springframework.security.web.access.ExceptionTranslationFilter@177f2362, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c38b1a]
2022-11-17 06:33:51,741 [restartedMain] INFO org.apache.juli.logging.DirectJDKLog log Starting ProtocolHandler ["http-nio-8080"]
2022-11-17 06:33:51,779 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer start Tomcat started on port(s): 8080 (http) with context path ''
2022-11-17 06:33:52,026 [restartedMain] INFO org.springframework.boot.StartupInfoLogger logStarted Started NossaLojaVirtualApplication in 7.283 seconds (JVM running for 8.182)
2022-11-17 06:33:52,752 [RMI TCP Connection(2)-192.168.3.11] INFO org.apache.juli.logging.DirectJDKLog log Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-17 06:33:52,754 [RMI TCP Connection(2)-192.168.3.11] INFO org.springframework.web.servlet.FrameworkServlet initServletBean Initializing Servlet 'dispatcherServlet'
